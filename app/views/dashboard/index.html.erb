      <% if current_user %>
        <% if current_user.type == "Contractor"  %>

        <div class="row">

          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div1"><img src=""> 

            <h4> WELCOME {{ contractor.name }} !</h4>

            <hr/>

            <div>
            <button ng-click="available()" ng-show="contractor.available_now" class="availablebuttongreen">
              Available now
            </button>
            <button ng-click="available()" ng-hide="contractor.available_now" class="availablebuttonred">
              Not available
            </button></br>
            <timer end-time="1420070400000">{{days}} days, {{hours}} hours, {{minutes}} minutes, {{seconds}} seconds.</timer>
            </div>

            <hr/>

            <div>
              <h4>I will travel:</h4> 
              <select ng-options="o.name for o in options" ng-model="selectedOption" ng-change="update()"></select>
            </div>

            <hr/>

            <div>
              <h4>My location:</h4>  
                <google-map center="map.center" zoom="map.zoom">
                
                  <marker coords="marker.coords" idkey="0">
                  </marker>
              </google-map>
              <!-- <h4>Radio &amp; Uncheckable Radio</h4>
                <pre>{{radioModel || 'null'}}</pre>
                <div class="btn-group">
                    <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Home'">Home</label>
                    <label class="btn btn-primary" ng-model="radioModel" btn-radio="'Current'">Current</label>
                </div> -->
            </div>       

          </div>
          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div2" ng-hide="contractor.available_now">
          </div>
          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div2" ng-show="contractor.available_now">
            <h4>Mark jobs that you are interested in<br/>
            to increase your position in employer searches</h4>

            <hr/>  
          
            <div ng-repeat="job in jobs | orderBy: 'id' ">
              <table>
                <tr>
               
                  <td ng-show="userHasSearch(job)" ng-click="showjobinterest(job)">
                    <i class="fa fa-check-circle" style="font-size:100%;color:green"  ></i>
                  </td>
              
                  <td ng-hide="userHasSearch(job)" ng-click="showjobinterest(job)">
                    <i class="fa fa-check-circle-o" style="font-size:300%"  ></i>
                  </td>
              
                </tr>
                <tr>
                  <td>Role:  </td>
                  <td>{{ job.description }} </td>
                </tr>
                <tr>
                  <td>Location:  </td> 
                  <td>{{ job.address.city }} </td>
                <tr/> 
                <tr>
                  <td>Start date:  </td> 
                  <td>{{ job.start_date }} </td>
                <tr/> 
                <tr>
                  <td>End date:  </td> 
                  <td>{{ job.end_date }} </td>
                <tr/>
                <tr>
                  <td>Salary Range:  </td> 
                  <td>{{ job.salary_range }} </td>
                <tr/>

              </table>
            <hr/>
          </div>
        </div>
        <div class="col-md-4 col-sm-8 col-xs-8" id="body-div3">
          <%= image_tag "contractorpage.jpg", class: "contractorphoto" %>
        </div>
      </div>
      <% end %>

      <% if current_user.type == "Employee"  %>

        <div comments></div>

        <div class="row">

          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div1"><img src=""> 

            <h4> WELCOME {{ employee.name }} !</h4>
            <h4> Company: {{ employee.company.name }} </h4>
            
          </div>

          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div1"><img src="">

              <h4> Select an existing job: </h4>
              <select ng-options="o.description for o in companyjobs" ng-model="selectedCompanyJob" ng-change="getPotentialContractors()"></select>
              <a class="btn btn-default" href="/jobs/new">New job</a>
          </div>

          <div class="col-md-4 col-sm-12 col-xs-12" id="body-div1"><img src="">

            <div ng-show="selectedCompanyJob">
              <h3>Details</h3>
              <p>Description: {{ selectedCompanyJob.description }} </p>
              <p>Location: {{ selectedCompanyJob.address.city }} </p>
              <p>Start Date: {{ selectedCompanyJob.start_date }} </p>
              <p>End Date: {{ selectedCompanyJob.end_date }} </p>
              <p>Salary Range: {{ selectedCompanyJob.salary_range }} <p>
              <p><a class="btn btn-default" href="/jobs/{{selectedCompanyJob.id}}/edit">Edit job</a>
            </div>

          </div>
        </div>

        <hr/>

        <div ng-controller="ModalDemoCtrl">
          <script type="text/ng-template" id="myModalContent.html">
            <div class="modal-header">
              <h3 class="modal-title">comments about {{ contractor }}</h3>
            </div>
            <div class="modal-body">
              <ul>
                <li ng-repeat="item in items">
                  <h4>{{ item.content }}</h4>
                </li>
              </ul>
            </div>
            <div class="modal-footer">
              <button class="btn btn-primary" ng-click="ok()">OK</button>
              <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
            <div>
            <form novalidate class="simple-form">
                Leave a comment: <input type="text" ng-model="user.comment" /><br />
                <input type="button" ng-click="reset()" value="Reset" />
                <input type="submit" ng-click="update(user)" value="Save" />
              </form>
              <pre>form = {{user | json}}</pre>
              <pre>master = {{master | json}}</pre>
            </div>
          </script>

          <button class="btn btn-default" ng-click="open()">Open me!</button>
          <button class="btn btn-default" ng-click="open('lg')">Large modal</button>
          <button class="btn btn-default" ng-click="open('sm')">Small modal</button>

        </div>

        <div class="row">      
          <div class="col-md-12 col-sm-12 col-xs-12" id="body-div1"><img src="">
            <table ng-show="selectedCompanyJob" class="table table-striped">
            <tr>
                <td class="center"><i class="fa fa-star-o" style="font-size:160%;color:black"></i></td>
                <td class="center"><i class="fa fa-ban" style="font-size:160%;color:black"></i></td>
                <td class="center"><i class="fa-pencil-square-o" style="font-size:160;color:black"></i></td>
                <td class="center"></td>
                <td class="center">Available</td>
                <td class="center">Distance</td>
                <td class="center">Qualification</td>
                <td class="center">Interest</td>
                <td class="center">Contacted</td>
                <td class="center">Offered</td>
                <td class="center">Accepted</td>
                <td class="center">Rejected</td>
                <td class="center">Phone</td>
                <td class="center">Email</td>

              </tr> 

              <tr ng-repeat="potentialcontractor in potentialcontractors">
               
                <td ng-hide="potentialcontractor.contractorFavourite" ng-click="togglecontractorfavourite(potentialcontractor)" class="center">
                  <i class="fa fa-star-o" style="font-size:100%;color:black"></i>
                </td>
                <td ng-show="potentialcontractor.contractorFavourite" ng-click="togglecontractorfavourite(potentialcontractor)" class="center">
                  <i class="fa fa-star" style="font-size:100%;color:gold"></i>
                </td>
                <td ng-hide="potentialcontractor.companyBlockContractor" ng-click="togglecompanyblockcontractor(potentialcontractor)" class="center">
                  <i class="fa fa-ban" style="font-size:100%;color:black"></i>
                </td>
                <td ng-show="potentialcontractor.companyBlockContractor" ng-click="togglecompanyblockcontractor(potentialcontractor)" class="center">
                  <i class="fa fa-ban" style="font-size:100%;color:red"></i>
                </td>
                <td ng-hide="potentialcontractor.comments" ng-click="viewComments(potentialcontractor)" class="center">
                  <i class="fa-pencil-square" style="font-size:100%;color:black"></i>
                </td>
                <td ng-show="potentialcontractor.comments" ng-click="viewComments(potentialcontractor)" class="center">
                  <i class="fa-pencil-square-o" style="font-size:100%;color:red"></i>
                </td>
                <td>{{ potentialcontractor.name }} <br/> ({{ potentialcontractor.address.city }}) </td>
                <td class="center" ng-show="potentialcontractor.available_now">
                  <i class="fa fa-check-circle" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.available_now">
                  <i class="fa fa-times-circle" style="font-size:165%;color:red"></i>
                </td>
                <td class="center" ng-show="potentialcontractor.canTravel">
                  <i class="fa fa-check-circle" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.canTravel">
                  <i class="fa fa-times-circle" style="font-size:165%;color:red"></i>
                </td>
                <td class="center" ng-show="potentialcontractor.hasQualifications">
                  <i class="fa fa-check-circle" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.hasQualifications">
                  <i class="fa fa-times-circle" style="font-size:165%;color:red"></i>
                </td>    
                <td class="center" ng-show="potentialcontractor.showedInterest">
                  <i class="fa fa-check-circle" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.showedInterest">
                  <i class="fa fa-question-circle" style="font-size:165%;color:orange"></i>
                </td>   
                <td class="center" ng-show="potentialcontractor.contacted" ng-click="contactUser(potentialcontractor)">
                  <i class="fa fa-check-square-o" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.contacted" ng-click="contactUser(potentialcontractor)">
                  <i class="fa fa-square-o" style="font-size:165%"></i>
                </td> 
                <td class="center" ng-show="potentialcontractor.offered" ng-click="offerUser(potentialcontractor)">
                  <i class="fa fa-check-square-o" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.offered" ng-click="offerUser(potentialcontractor)">
                  <i class="fa fa-square-o" style="font-size:165%"></i>
                </td>
                <td class="center" ng-show="potentialcontractor.accepted" ng-click="acceptUser(potentialcontractor , $index)" ng-class="{spinner: showSpinner[$index]}">
                  <i class="fa fa-check-square-o" style="font-size:165%;color:green"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.accepted" ng-click="acceptUser(potentialcontractor , $index)" ng-class="{spinner: showSpinner[$index]}">
                  <i class="fa fa-square-o" style="font-size:165%"></i>
                </td> 
                <td class="center" ng-show="potentialcontractor.rejected" ng-click="rejectUser(potentialcontractor)">
                  <i class="fa fa-check-square-o" style="font-size:165%;color:red"></i>
                </td>
                <td class="center" ng-hide="potentialcontractor.rejected" ng-click="rejectUser(potentialcontractor)">
                  <i class="fa fa-square-o" style="font-size:165%"></i>
                </td>   
                <td class="center" ng-click="phoneUser(potentialcontractor)">
                  <i class="fa fa-phone-square" style="font-size:165%"></i>
                </td>
                <td class="center" ng-click="emailUser(potentialcontractor)">
                  <a href="mailto:{{potentialcontractor.email}}" target="_top"><i class="fa fa-envelope" style="font-size:165%;color:black"></i></a>
                </td>
              </tr>
            </table>
          </div>
        </div>
      <% end %>
      <% else %> 
      <hr/>
      <div>
        <h1>RAMP recruitment <h1>
      <div>
      <hr/>  
    <% end %>





